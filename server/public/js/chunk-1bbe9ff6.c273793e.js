(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bbe9ff6"],{"54e2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"signin-form"},[s("div",{staticClass:"signin-container"},[s("div",{staticClass:"signin-wrapper"},[s("div",{staticClass:"logo-container"},[s("div",{staticClass:"logo-wrapper"},[s("div",{staticClass:"logo",on:{click:function(e){t.$router.push("/").catch((function(){}))}}},[s("span",{staticClass:"company-first-name"},[t._v("Meal")]),s("span",{staticClass:"company-last-name"},[t._v("Finder")])])])]),s("div",{staticClass:"signin-card"},[s("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{staticClass:"signin-content",on:{submit:function(e){return e.preventDefault(),a(t.signin)}}},[s("div",{staticClass:"all-wrapper"},[s("validation-provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,n=e.classes;return[s("label",{staticClass:"all-text",attrs:{for:"email"}},[t._v("電子郵件")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"all-input",class:n,attrs:{id:"email",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a[0]?s("span",{staticClass:"invalid-text"},[t._v(t._s(a[0].replace("email ","電子郵件")))]):t._e()]}}],null,!0)})],1),s("div",{staticClass:"all-wrapper"},[s("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,n=e.classes;return[s("label",{staticClass:"all-text",attrs:{for:"password"}},[t._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"all-input",class:n,attrs:{id:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a[0]?s("span",{staticClass:"invalid-text"},[t._v(t._s(a[0].replace("password ","密碼")))]):t._e()]}}],null,!0)})],1),s("div",{staticClass:"submit-button-wrapper"},[s("button",{staticClass:"submit-button",attrs:{type:"submit"}},[s("div",{staticClass:"button"},[t._v("登入")])])]),s("div",{staticClass:"text-wrapper"},[s("span",{staticClass:"text"},[t._v("還沒有帳號嗎？")]),s("span",{staticClass:"text register",on:{click:function(e){return t.$router.push("/signup")}}},[t._v("立即註冊")])])])]}}])}),s("div",{staticClass:"social-media-signin"},[s("div",{staticClass:"text"},[t._v("使用社群帳號快速登入")]),s("div",{staticClass:"social-button google",on:{click:t.signInByGoogle}},[s("img",{attrs:{src:a("d57a")}}),t._m(0)]),s("div",{staticClass:"social-button google",on:{click:t.signInByFacebook}},[s("img",{attrs:{src:a("e944")}}),t._m(1)])])],1)])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("span",[t._v("使用 Google 帳號登入")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button"},[a("span",[t._v("使用 Facebook 帳號登入")])])}],i=(a("96cf"),a("1da1")),r=a("7696"),o=a("2fa3"),c={data:function(){return{email:"",password:""}},methods:{signin:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].signIn({email:t.email,password:t.password});case 3:if(a=e.sent,s=a.data,"success"===s.status){e.next=8;break}throw t.password="",new Error(s.message);case 8:localStorage.setItem("token",s.token),t.$store.commit("setCurrentUser",s.user),t.$router.push("/"),o["a"].fire({icon:"success",title:"登入成功"}),e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](0),t.password="",t.isProcessing=!1,o["a"].fire({icon:"warning",title:"請確認您輸入了正確的電子郵件與密碼"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))()},signInByFacebook:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{window.location.href="https://mealfinder2021.herokuapp.com/api/auth/facebook"}catch(e){o["a"].fire({icon:"warning",title:"暫時無法使用 Facebook 帳號登入"})}case 1:case"end":return t.stop()}}),t)})))()},signInByGoogle:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{window.location.href="https://mealfinder2021.herokuapp.com/api/auth/google"}catch(e){o["a"].fire({icon:"warning",title:"暫時無法使用 Google 帳號登入"})}case 1:case"end":return t.stop()}}),t)})))()}}},l=c,u=(a("bff1"),a("2877")),p=Object(u["a"])(l,s,n,!1,null,null,null);e["default"]=p.exports},7696:function(t,e,a){"use strict";var s=a("2fa3");e["a"]={signIn:function(t){var e=t.email,a=t.password;return s["b"].post("/signin",{email:e,password:a})},signUp:function(t){return s["b"].post("/signup",t)},signInByFacebook:function(){return s["b"].get("/auth/facebook")},callBackFromFacebook:function(){return s["b"].get("/auth/facebook/callback")}}},"816f":function(t,e,a){},bff1:function(t,e,a){"use strict";a("816f")},d57a:function(t,e,a){t.exports=a.p+"img/google-signin.3a8ae245.svg"},e944:function(t,e,a){t.exports=a.p+"img/facebook-signin.c341186f.svg"}}]);
//# sourceMappingURL=chunk-1bbe9ff6.c273793e.js.map