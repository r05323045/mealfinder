(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a387dcf"],{"33d5":function(t,e,a){"use strict";a("4478")},4478:function(t,e,a){},4625:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout-page"},[a("Navbar"),a("div",{staticClass:"checkout-result"},[a("div",{staticClass:"checkout-container"},[a("div",{staticClass:"main-title"},[t._v("付款成功！")]),a("div",{staticClass:"order-card-wrapper"},[a("div",{staticClass:"order-card"},[t._m(0),a("div",{staticClass:"divider"}),a("div",{staticClass:"card-content"},[a("div",{staticClass:"item-wrapper"},[a("div",{staticClass:"text"},[t._v("商品總計")]),a("div",{staticClass:"total-price"},[t._v(t._s(t._f("priceFormat")(t.totalPrice)))])]),a("div",{staticClass:"item-wrapper"},[a("div",{staticClass:"text"},[t._v("數量總計")]),a("div",{staticClass:"total-price"},[t._v(t._s(t.totalQuantity))])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"item-wrapper summary"},[a("div",{staticClass:"text"},[t._v("結帳總金額")]),a("div",{staticClass:"total-price"},[t._v(t._s(t._f("priceFormat")(t.totalPrice)))])])])])]),a("div",{staticClass:"illustration-and-result"},[a("div",{staticClass:"title"},[t._v("付款成功！")]),t._m(1),a("div",{staticClass:"submit-button-wrapper"},[a("button",{staticClass:"submit-button",attrs:{type:"submit"},on:{click:function(e){return t.$router.push("/coupons")}}},[a("div",{staticClass:"button"},[t._v("查看更多商品")])]),a("div",{staticClass:"back-button",on:{click:function(e){return t.$router.push("/")}}},[a("div",{staticClass:"button"},[t._v("回首頁看更多")])])])])])]),a("div",{ref:"footer"},[a("Footer")],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("訂單摘要")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"illustration-wrapper"},[a("div",{staticClass:"cover"})])}],s=(a("4160"),a("a9e3"),a("159b"),a("96cf"),a("1da1")),c=a("5530"),n=a("2fa3"),o=a("2f62"),u=a("644d"),d=a("d178"),l=a("fd2d"),v={data:function(){return{order:{},totalPrice:0,totalQuantity:0,tradeInfo:{}}},components:{Navbar:d["a"],Footer:l["default"]},mounted:function(){this.fetchPayment()},computed:Object(c["a"])({},Object(o["b"])(["currentUser","isAuthenticated"])),methods:{fetchPayment:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$loading.show({isFullPage:!0,opacity:1}),e.prev=1,e.next=4,u["a"].getPaymentInfo(t.$route.query.sn);case 4:r=e.sent,i=r.data,t.totalPrice=i.data.total_amount,t.calculateTotalPrice(i.data.orderItems),a.hide(),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](1),a.hide(),console.log(e.t0),n["a"].fire({icon:"error",title:"目前無法取得付款資訊，請稍候"});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))()},calculateTotalPrice:function(t){var e=this;this.totalQuantity=0,t.forEach((function(t){e.totalQuantity+=Number(t.quantity)}))}}},f=v,h=(a("33d5"),a("2877")),p=Object(h["a"])(f,r,i,!1,null,null,null);e["default"]=p.exports},"644d":function(t,e,a){"use strict";var r=a("2fa3"),i=function(){return localStorage.getItem("token")};e["a"]={getCart:function(){return r["b"].get("/user/cart",{headers:{Authorization:"Bearer ".concat(i())}})},postCart:function(t){return r["b"].post("/user/cart",t,{headers:{Authorization:"Bearer ".concat(i())}})},deleteCart:function(t){return r["b"].delete("/user/cart/".concat(t),{headers:{Authorization:"Bearer ".concat(i())}})},addCartItem:function(t){return r["b"].post("/user/cartItem/add",{id:t},{headers:{Authorization:"Bearer ".concat(i())}})},reduceCartItem:function(t){return r["b"].post("/user/cartItem/reduce",{id:t},{headers:{Authorization:"Bearer ".concat(i())}})},postTradeInfo:function(t){return r["b"].post("/user/order",t,{headers:{Authorization:"Bearer ".concat(i())}})},getPaymentInfo:function(t){return r["b"].get("/user/payment/".concat(t),{headers:{Authorization:"Bearer ".concat(i())}})},getOrders:function(){return r["b"].get("/user/order",{headers:{Authorization:"Bearer ".concat(i())}})},getOrder:function(t){return r["b"].get("/user/order/".concat(t),{headers:{Authorization:"Bearer ".concat(i())}})}}}}]);
//# sourceMappingURL=chunk-2a387dcf.83ea83f3.js.map